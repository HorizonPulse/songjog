CREATE TYPE user_roles AS ENUM ( 
	'employer',
	'employee',
	'admin'
);

CREATE TYPE user_status AS ENUM ( 
	'active',
	'inactive'
);

CREATE TYPE employer_type AS ENUM ( 
	'personal',
	'business'
);

CREATE TABLE "users" (
	"ID" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	"PHONE_NUMBER" VARCHAR(15) UNIQUE NOT NULL,
	"COUNTRY_CODE" VARCHAR(4) NOT NULL,
	"USER_TYPE" user_roles NOT NULL,
	"STATUS" user_status NOT NULL,
	"FIRST_NAME" VARCHAR(64) NOT NULL,
	"LAST_NAME" VARCHAR(16) NOT NULL,
	"EMAIL" VARCHAR(64) UNIQUE NOT NULL,
	"HASH" TEXT NOT NULL,
	"SALT" TEXT NOT NULL,
	"PHOTO" TEXT,
	"LOCATION" VARCHAR(255), -- need to be discussed
	"THANA_ID" INT,
	"NID" VARCHAR(20),
	"BIRTH_CERTIFICATE" VARCHAR(20),
	"DATE_OF_BIRTH" TIMESTAMP,
	"GENDER" VARCHAR(16) NOT NULL,
	"IS_PHONE_VERIFIED" BOOLEAN DEFAULT FALSE,
	"IS_EMAIL_VERIFIED" BOOLEAN DEFAULT FALSE,
	"CREATED_AT" TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
	"UPDATED_AT" TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);

CREATE TABLE "employee_profiles" (
	"ID" INT PRIMARY KEY,
	"USER_ID" INT,
	"JOB_PREFER_LOCATION" VARCHAR(255), -- need to be discussed
	"JOB_INTEREST" TEXT, -- need different table
	"TOTAL_REVIEWS" INT DEFAULT 0,
	"AVERAGE_RATING" FLOAT DEFAULT 0,
	"CREATED_AT" TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
	"UPDATED_AT" TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);

CREATE TABLE "employee_educations" (
	"ID" INT PRIMARY KEY,
	"USER_ID" INT,
	"EMPLOYEE_PROFILE_ID" INT,
	"EDUCATION_DEGREE" VARCHAR(64),
	"EDUCATION_INSTITUTION" VARCHAR(255),
	"RESULT": VARCHAR(12),
	"CREATED_AT" TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
	"UPDATED_AT" TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);

CREATE TABLE "employee_experiences" (
	"ID" INT PRIMARY KEY,
	"USER_ID" INT,
	"EMPLOYEE_PROFILE_ID" INT,
	"COMPANY_NAME" VARCHAR(255),
	"JOB_POSITION" VARCHAR(255),
	"JOB_DESCRIPTION" TEXT,
	"EXPERIENCE_START_DATE" DATE,
	"EXPERIENCE_END_DATE" DATE,
	"CREATED_AT" TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
	"UPDATED_AT" TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);

CREATE TABLE "employer_profiles" (
	"ID" INT PRIMARY KEY,
	"USER_ID" INT,
	"EMPLOYER_TYPE" VARCHAR(8),
	"BUSINESS_NAME" VARCHAR(255),
	"BUSINESS_LOCATION" VARCHAR(255),
	"CONTACT_POINT_NAME" VARCHAR(255) NOT NULL,
	"CONTACT_POINT_PHONE" VARCHAR(15) NOT NULL,
	"BIN_NUMBER" VARCHAR(50),
	"BUSINESS_CATEGORY" VARCHAR(255),
	"BUSINESS_LOGO" VARCHAR(255),
	"VERIFIED_BUSINESS" BOOLEAN,
	"TOTAL_REVIEWS" INT DEFAULT 0,
	"AVERAGE_RATING" FLOAT DEFAULT 0,
	"CREATED_AT" TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
	"UPDATED_AT" TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);

CREATE TABLE "job_post" (
	"ID" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	"EMPLOYER_ID" INT,
	"JOB_TITLE" VARCHAR(255) NOT NULL,
	"JOB_CATEGORY" VARCHAR(255) NOT NULL,
	"JOB_TYPE" VARCHAR(8),
	"JOB_VACANCY" INT NOT NULL,
	"JOB_LOCATION" VARCHAR(255) NOT NULL,
	"JOB_TIMING" VARCHAR(8) NOT NULL,
	"JOB_SALARY_TYPE" VARCHAR(8) NOT NULL,
	"JOB_DESCRIPTION" TEXT,
	"JOB_START_DATE" DATE NOT NULL,
	"JOB_END_DATE" DATE,
	"PROFILE_COMPLETENESS" BOOLEAN NOT NULL DEFAULT FALSE,
	"MANDATORY_FIELDS_FILLED" BOOLEAN NOT NULL DEFAULT FALSE,
	"CREATED_AT" TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
	"UPDATED_AT" TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);

CREATE TABLE "job_application" (
	"ID" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	"JOB_POST_ID" INT,
	"EMPLOYEE_ID" INT,
	"APPLICATION_STATUS" VARCHAR(8) NOT NULL,
	"CREATED_AT" TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
	"UPDATED_AT" TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);

CREATE TABLE "district" (
	"ID" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	"NAME" VARCHAR(64) NOT NULL,
	"CREATED_AT" TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
	"UPDATED_AT" TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);

CREATE TABLE "division" (
	"ID" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	"NAME" VARCHAR(64) NOT NULL,
	"CREATED_AT" TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
	"UPDATED_AT" TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);

CREATE TABLE "thana" (
	"ID" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	"NAME" VARCHAR(64) NOT NULL,
	"DISTRICT_ID" INT,
	"DIVISION_ID" INT,
	"CREATED_AT" TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
	"UPDATED_AT" TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);

CREATE TABLE "reviews" (
	"ID" SERIAL PRIMARY KEY,
	"REVIEWER_ID" INT NOT NULL,
	"REVIEWEE_ID" INT NOT NULL,
	"RATING" INT,
	"REVIEW_TEXT" TEXT,
	"CREATED_AT" TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
	"UPDATED_AT" TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);